"use strict";var satCollisions=(()=>{var P=Object.defineProperty;var A=Object.getOwnPropertyDescriptor;var B=Object.getOwnPropertyNames;var I=Object.prototype.hasOwnProperty;var M=(t,o)=>{for(var e in o)P(t,e,{get:o[e],enumerable:!0})},k=(t,o,e,n)=>{if(o&&typeof o=="object"||typeof o=="function")for(let r of B(o))!I.call(t,r)&&r!==e&&P(t,r,{get:()=>o[r],enumerable:!(n=A(o,r))||n.enumerable});return t};var q=t=>k(P({},"__esModule",{value:!0}),t);var S={};M(S,{Circle:()=>s,Polygon:()=>f,Vector:()=>c,Vertex:()=>u,checkCollision:()=>j,circleCollision:()=>V,circlePolygonCollision:()=>g,polygonCollision:()=>h});function V(t,o){let e=t.center.x-o.center.x,n=t.center.y-o.center.y,r=t.radius+o.radius;return e*e+n*n<=r*r}var c=class{constructor(o,e){this.x=o;this.y=e}normalize(){let o=Math.hypot(this.x,this.y);return o===0?this:(this.x/=o,this.y/=o,this)}dot(o){return this.x*o.x+this.y*o.y}};function C(t,o){let e=t.center.dot(o);return{min:e-t.radius,max:e+t.radius}}function x(t,o){let e=-1/0,n=1/0;for(let r of t.worldVertices){let i=r.dot(o);i>e&&(e=i),i<n&&(n=i)}return{min:n,max:e}}function w(t,o){let e=t.worldVertices[0],n=1/0;for(let r of t.worldVertices){let i=r.x-o.x,l=r.y-o.y,m=i*i+l*l;m<n&&(n=m,e=r)}return e}function g(t,o){for(let l=0;l<t.worldVertices.length;l++){let m=(l+1)%t.worldVertices.length,p=t.worldVertices[l],y=t.worldVertices[m],a=new c(y.x-p.x,y.y-p.y),d=new c(-a.y,a.x).normalize(),v=x(t,d),z=C(o,d);if(v.max<z.min||z.max<v.min)return!1}let e=w(t,o.center),n=new c(e.x-o.center.x,e.y-o.center.y).normalize(),r=x(t,n),i=C(o,n);return!(r.max<i.min||i.max<r.min)}var s=class{constructor(o,e){this.center=o;this.radius=e}};var u=class extends c{};var f=class t{constructor(o,e){this.center=o;e&&(this.vertices=e)}vertices=[];addVertex(o){return this.vertices.push(o),this}get worldVertices(){return this.vertices.map(o=>new u(o.x+this.center.x,o.y+this.center.y))}rotate(o){let e=Math.cos(o),n=Math.sin(o);for(let r of this.vertices){let i=r.x,l=r.y;r.x=i*e-l*n,r.y=i*n+l*e}return this}clone(){return new t(this.center)}};function h(t,o){let e=[t,o];for(let n of e)for(let r=0;r<n.worldVertices.length;r++){let i=(r+1)%n.worldVertices.length,l=n.worldVertices[r],m=n.worldVertices[i],p=new c(m.x-l.x,m.y-l.y),y=new c(-p.y,p.x).normalize(),a=x(t,y),d=x(o,y);if(a.max<d.min||d.max<a.min)return!1}return!0}function j(t,o){return t instanceof s&&o instanceof s?V(t,o):t instanceof f&&o instanceof f?h(t,o):(t instanceof s&&o instanceof f&&([t,o]=[o,t]),g(t,o))}return q(S);})();
